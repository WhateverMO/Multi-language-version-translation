{"ast":null,"code":"export default {\n  data() {\n    return {\n      age: [{\n        value: \"选项1\",\n        label: \"18\"\n      }, {\n        value: \"选项2\",\n        label: \"19\"\n      }, {\n        value: \"选项3\",\n        label: \"20\"\n      }, {\n        value: \"选项4\",\n        label: \"21\"\n      }, {\n        value: \"选项5\",\n        label: \"22\"\n      }],\n      area: [{\n        value: \"选项1\",\n        label: \"重庆\"\n      }, {\n        value: \"选项2\",\n        label: \"四川\"\n      }, {\n        value: \"选项3\",\n        label: \"云南\"\n      }, {\n        value: \"选项4\",\n        label: \"湖南\"\n      }, {\n        value: \"选项5\",\n        label: \"北京\"\n      }],\n      radio: \"\",\n      input: \"\",\n      textarea: \"\",\n      old: \"\",\n      from: \"\",\n      imageUrl: \"\"\n    };\n  },\n\n  methods: {\n    handleAvatarSuccess(res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n    },\n\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === \"image/jpeg\";\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\n      }\n\n      if (!isLt2M) {\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\n      }\n\n      return isJPG && isLt2M;\n    },\n\n    check() {\n      var data = {\n        username: this.input,\n        gender: this.radio,\n        password2: this.password2\n      };\n      const path = \"http://localhost:5000/userinformation/modification\";\n      axios.post(path, qs.stringify(data)).then(res => {\n        alert(res.data.msg);\n\n        if (res.data.code == 200) {\n          alert(\"你的用户id是:\" + res.data.user_id);\n          this.$store.commit(\"userid\", res.data.user_id);\n          this.$router.push(\"/reader\");\n        }\n      }); //用户注册，将用户id存入store\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8DA;EACAA;IACA;MACAC,MACA;QACAC,YADA;QAEAC;MAFA,CADA,EAKA;QACAD,YADA;QAEAC;MAFA,CALA,EASA;QACAD,YADA;QAEAC;MAFA,CATA,EAaA;QACAD,YADA;QAEAC;MAFA,CAbA,EAiBA;QACAD,YADA;QAEAC;MAFA,CAjBA,CADA;MAuBAC,OACA;QACAF,YADA;QAEAC;MAFA,CADA,EAKA;QACAD,YADA;QAEAC;MAFA,CALA,EASA;QACAD,YADA;QAEAC;MAFA,CATA,EAaA;QACAD,YADA;QAEAC;MAFA,CAbA,EAiBA;QACAD,YADA;QAEAC;MAFA,CAjBA,CAvBA;MA6CAE,SA7CA;MA8CAC,SA9CA;MA+CAC,YA/CA;MAgDAC,OAhDA;MAiDAC,QAjDA;MAkDAC;IAlDA;EAoDA,CAtDA;;EAwDAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACA;;MAEA;QACA;MACA;;MACA;QACA;MACA;;MACA;IACA,CAfA;;IAgBAC;MACA;QACAC,oBADA;QAEAC,kBAFA;QAGAC;MAHA;MAKA;MACAC;QACAC;;QACA;UACAA;UACA;UACA;QACA;MACA,CAPA,EAPA,CAcA;IACA;;EA/BA;AAxDA","names":["data","age","value","label","area","radio","input","textarea","old","from","imageUrl","methods","handleAvatarSuccess","beforeAvatarUpload","check","username","gender","password2","axios","alert"],"sourceRoot":"src/components/information","sources":["check.vue"],"sourcesContent":["<template>\r\n  <div class=\"all\">\r\n    <ul>\r\n      <el-upload\r\n        class=\"avatar-uploader\"\r\n        action=\"https://jsonplaceholder.typicode.com/posts/\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :before-upload=\"beforeAvatarUpload\"\r\n      >\r\n        <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n      </el-upload>\r\n    </ul>\r\n    <ul>\r\n      <li>\r\n        用户名：<el-input\r\n          v-model=\"input\"\r\n          placeholder=\"请输入新的用户名\"\r\n        ></el-input>\r\n      </li>\r\n      <li>\r\n        性别： <el-radio v-model=\"radio\" label=\"man\">男</el-radio>\r\n        <el-radio v-model=\"radio\" label=\"woman\">女</el-radio>\r\n      </li>\r\n      <li>\r\n        年龄：<el-select v-model=\"old\" placeholder=\"请选择\">\r\n          <el-option\r\n            v-for=\"item in age\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </li>\r\n      <li>\r\n        地区：<el-select v-model=\"from\" placeholder=\"请选择\">\r\n          <el-option\r\n            v-for=\"item in area\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </li>\r\n      <li>\r\n        个人介绍:<el-input\r\n          type=\"textarea\"\r\n          :rows=\"2\"\r\n          placeholder=\"请输入内容\"\r\n          v-model=\"textarea\"\r\n        >\r\n        </el-input>\r\n      </li>\r\n      <li><el-button type=\"primary\" @click=\"check\">点击修改</el-button></li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      age: [\r\n        {\r\n          value: \"选项1\",\r\n          label: \"18\",\r\n        },\r\n        {\r\n          value: \"选项2\",\r\n          label: \"19\",\r\n        },\r\n        {\r\n          value: \"选项3\",\r\n          label: \"20\",\r\n        },\r\n        {\r\n          value: \"选项4\",\r\n          label: \"21\",\r\n        },\r\n        {\r\n          value: \"选项5\",\r\n          label: \"22\",\r\n        },\r\n      ],\r\n      area: [\r\n        {\r\n          value: \"选项1\",\r\n          label: \"重庆\",\r\n        },\r\n        {\r\n          value: \"选项2\",\r\n          label: \"四川\",\r\n        },\r\n        {\r\n          value: \"选项3\",\r\n          label: \"云南\",\r\n        },\r\n        {\r\n          value: \"选项4\",\r\n          label: \"湖南\",\r\n        },\r\n        {\r\n          value: \"选项5\",\r\n          label: \"北京\",\r\n        },\r\n      ],\r\n      radio: \"\",\r\n      input: \"\",\r\n      textarea: \"\",\r\n      old: \"\",\r\n      from: \"\",\r\n      imageUrl: \"\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleAvatarSuccess(res, file) {\r\n      this.imageUrl = URL.createObjectURL(file.raw);\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      const isJPG = file.type === \"image/jpeg\";\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n    check() {\r\n      var data = {\r\n        username: this.input,\r\n        gender: this.radio,\r\n        password2: this.password2,\r\n      };\r\n      const path = \"http://localhost:5000/userinformation/modification\";\r\n      axios.post(path, qs.stringify(data)).then((res) => {\r\n        alert(res.data.msg);\r\n        if (res.data.code == 200) {\r\n          alert(\"你的用户id是:\" + res.data.user_id);\r\n          this.$store.commit(\"userid\", res.data.user_id);\r\n          this.$router.push(\"/reader\");\r\n        }\r\n      }); //用户注册，将用户id存入store\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.all {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\nul {\r\n  margin-top: 30px;\r\n  height: 70vh;\r\n  margin-left: 100px;\r\n}\r\nul li {\r\n  /* display: flex;\r\n    justify-content: center; */\r\n  margin-bottom: 25px;\r\n}\r\n.el-input {\r\n  width: 150px;\r\n}\r\n.el-button {\r\n  margin-left: 5vw;\r\n}\r\n\r\n.el-textarea {\r\n  width: 250px;\r\n}\r\n\r\n.avatar-uploader {\r\n  border: 1px dashed #120f0f;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 50px;\r\n  color: #b22a45;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}