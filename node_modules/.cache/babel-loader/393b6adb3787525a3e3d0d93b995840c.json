{"ast":null,"code":"import request from \"@/request\";\nimport qs from \"qs\";\nexport default {\n  data() {\n    return {\n      books: \"\",\n      collectname: []\n    };\n  },\n\n  methods: {\n    cancel(x) {\n      request.post(\"/api/user/del_collect/\" + x).then(res => {\n        alert(res.data.msg);\n      }); //拿阅读记录\n\n      request.get(\"/api/user/get_collection\").then(res => {\n        this.books = res.data.collect_books;\n        this.$forceUpdate();\n      }); //拿阅读记录\n    },\n\n    open() {\n      this.$prompt(\"请输入要创建的收藏夹名字\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(({\n        value\n      }) => {\n        var data = {\n          libname: value\n        };\n        request.post(\"/api/user/create_collection\", qs.stringify(data)).then(res => {\n          if (res.data.code == 200) {\n            this.$message({\n              type: \"success\",\n              message: \"收藏夹创建成功\"\n            });\n          }\n        });\n      }).catch(() => {\n        this.$message({\n          type: \"info\",\n          message: \"取消输入\"\n        });\n      });\n    }\n\n  },\n\n  mounted() {\n    request.get(\"/api/user/get_collection_lib\").then(res => {\n      console.log(res.data);\n      this.collectname = res.data.collections;\n    }); //收藏夹名字\n  }\n\n};","map":{"version":3,"mappings":"AAgBA;AACA;AACA;EACAA;IACA;MACAC,SADA;MAEAC;IAFA;EAIA,CANA;;EAOAC;IACAC;MACAC;QACAC;MACA,CAFA,EADA,CAGA;;MACAD;QACA;QACA;MACA,CAHA,EAJA,CAOA;IACA,CATA;;IAUAE;MACA;QACAC,uBADA;QAEAC;MAFA,GAIAC,IAJA,CAIA;QAAAC;MAAA;QACA;UACAC;QADA;QAGAP,QACAQ,IADA,CACA,6BADA,EACAC,kBADA,EAEAJ,IAFA,CAEAK;UACA;YACA;cACAC,eADA;cAEAC;YAFA;UAIA;QACA,CATA;MAUA,CAlBA,EAmBAC,KAnBA,CAmBA;QACA;UACAF,YADA;UAEAC;QAFA;MAIA,CAxBA;IAyBA;;EApCA,CAPA;;EA6CAE;IACAd;MACAe;MACA;IACA,CAHA,EADA,CAIA;EACA;;AAlDA","names":["data","books","collectname","methods","cancel","request","alert","open","confirmButtonText","cancelButtonText","then","value","libname","post","qs","res","type","message","catch","mounted","console"],"sourceRoot":"src/components/information","sources":["collect.vue"],"sourcesContent":["<template>\r\n  <div class=\"all\">\r\n    <div class=\"list\">\r\n      <ul></ul>\r\n      我的收藏夹\r\n    </ul>\r\n    <ul v-for=\"(name, index) in collectname\" :key=\"index\">\r\n      <li>{{ name }}</li>\r\n    </ul>\r\n    <ul><el-button type=\"text\" @click=\"open\">创建收藏夹</el-button></ul>\r\n    </div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/request\";\r\nimport qs from \"qs\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      books: \"\",\r\n      collectname: [],\r\n    };\r\n  },\r\n  methods: {\r\n    cancel(x) {\r\n      request.post(\"/api/user/del_collect/\" + x).then((res) => {\r\n        alert(res.data.msg);\r\n      }); //拿阅读记录\r\n      request.get(\"/api/user/get_collection\").then((res) => {\r\n        this.books = res.data.collect_books;\r\n        this.$forceUpdate();\r\n      }); //拿阅读记录\r\n    },\r\n    open() {\r\n      this.$prompt(\"请输入要创建的收藏夹名字\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n      })\r\n        .then(({ value }) => {\r\n          var data = {\r\n            libname: value,\r\n          };\r\n          request\r\n            .post(\"/api/user/create_collection\", qs.stringify(data))\r\n            .then((res) => {\r\n              if (res.data.code == 200) {\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: \"收藏夹创建成功\",\r\n                });\r\n              }\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"取消输入\",\r\n          });\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    request.get(\"/api/user/get_collection_lib\").then((res) => {\r\n      console.log(res.data);\r\n      this.collectname = res.data.collections;\r\n    }); //收藏夹名字\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nli {\r\n  width: 200px;\r\n  padding: 20px;\r\n  font-family:'Courier New', Courier, monospace\r\n  font-size: 25px;\r\n}\r\nli:hover {\r\n  cursor: pointer;\r\n  background-color: rgb(243, 240, 235);\r\n  color: red;\r\n}\r\n.list {\r\n  margin-left: 20vw;\r\n  margin-top: 10vh;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}