"use strict";(self["webpackChunkrtbooks"]=self["webpackChunkrtbooks"]||[]).push([[89],{3405:function(e,t,a){a.d(t,{Z:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",[t("el-menu",{staticClass:"el-menu",attrs:{mode:"horizontal"}},[t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[e._v("切换语言")]),t("el-menu-item",{attrs:{index:"2-1"}},[e._v("英语")]),t("el-menu-item",{attrs:{index:"2-2"}},[e._v("法语")]),t("el-menu-item",{attrs:{index:"2-3"}},[e._v("德语")]),t("el-menu-item",{attrs:{index:"2-3"}},[e._v("日语")])],2),t("el-menu-item",{attrs:{index:"0"},on:{click:e.re}},[e._v("rt-books")]),t("el-menu-item",{attrs:{index:"2"}},[e._v("玄幻")]),t("el-menu-item",{attrs:{index:"3"}},[e._v("都市")]),t("el-menu-item",{attrs:{index:"4"}},[e._v("仙侠")]),t("el-menu-item",{attrs:{index:"5"}},[e._v("历史")]),t("el-menu-item",{attrs:{index:"6"}},[e._v("悬疑")]),t("el-menu-item",{attrs:{index:"7"}},[e._v("推理")]),t("el-menu-item",{attrs:{index:"8"}},[e._v("言情")]),t("el-menu-item",{attrs:{index:"9"}},[e._v("更多")]),t("el-menu-item",{attrs:{index:"10"},on:{click:e.back}},[e._v("退出登录")])],1)],1)},r=[],i=a(8291),s={name:"top",data(){return{input:""}},methods:{back(){const e="/api/user/logout";i.Z["delete"](e).then((e=>{alert(e.data.msg),200==e.data.code&&this.$router.push("/")}))},re(){this.$router.push("/reader")}}},n=s,o=a(1001),u=(0,o.Z)(n,l,r,!1,null,null,null),c=u.exports},6480:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var l=function(){var e=this,t=e._self._c;return t("div",[t("top"),t("checkcenter"),t("foot")],1)},r=[],i=a(7378),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"all"},[t("ul",[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://43.138.162.174/api/user/information/modification/update_avatar","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("ul",[t("li",[e._v(" 用户名："),t("el-input",{attrs:{placeholder:"请输入新的用户名"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),t("li",[e._v(" 性别： "),t("el-radio",{attrs:{label:"男"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("男")]),t("el-radio",{attrs:{label:"女"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("女")])],1),t("li",[e._v(" 年龄："),t("el-select",{ref:"old",attrs:{placeholder:"请选择你的年龄"},model:{value:e.old,callback:function(t){e.old=t},expression:"old"}},e._l(e.age,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("li",[e._v(" 地区："),t("el-select",{ref:"place",attrs:{placeholder:"请选择你所在的地区"},model:{value:e.place,callback:function(t){e.place=t},expression:"place"}},e._l(e.area,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("li",[e._v(" 个人介绍:"),t("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入介绍内容"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),t("li",[t("el-button",{attrs:{type:"primary"},on:{click:e.checkinfo}},[e._v("点击修改")])],1)])])},n=[],o=a(5410),u=a.n(o),c=a(8291),d=a(4239),m={data(){return{age:[{value:"选项1",label:"18"},{value:"选项2",label:"19"},{value:"选项3",label:"20"},{value:"选项4",label:"21"},{value:"选项5",label:"22"}],area:[{value:"选项1",label:"重庆"},{value:"选项2",label:"四川"},{value:"选项3",label:"云南"},{value:"选项4",label:"湖南"},{value:"选项5",label:"北京"}],radio:d.Z.state.sex,input:d.Z.state.name,textarea:d.Z.state.intro,old:d.Z.state.age,place:d.Z.state.place,imageUrl:d.Z.state.image,formData:""}},methods:{handleAvatarSuccess(e,t){this.imageUrl=URL.createObjectURL(t.raw);var a=new FormData;a.append("file",t.raw,t.name);const l="/api/user/information/modification/update_avatar";c.Z.post(l,a).then((e=>{200==e.data.code&&alert(e.data.msg)}))},beforeAvatarUpload(e){const t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},checkinfo(){var e={username:this.input,gender:this.radio,area:this.$refs.place.selected.label,user_describe:this.textarea,user_age:this.$refs.old.selected.label};const t="/api/user/information/modification";c.Z.post(t,u().stringify(e)).then((e=>{console.log(e.data),alert(e.data.msg),200==e.data.code&&(this.$store.commit("name",e.data.username),this.$store.commit("sex",e.data.user_gender),this.$store.commit("place",e.data.user_area),this.$store.commit("intro",e.data.user_describe),this.$store.commit("age",e.data.user_age),this.$router.push("/readerinformation"))}))}}},p=m,v=a(1001),f=(0,v.Z)(p,s,n,!1,null,"70989e19",null),h=f.exports,b=a(3405),_={components:{top:b.Z,checkcenter:h,foot:i.Z}},x=_,g=(0,v.Z)(x,l,r,!1,null,null,null),k=g.exports}}]);
//# sourceMappingURL=89.c342766d.js.map