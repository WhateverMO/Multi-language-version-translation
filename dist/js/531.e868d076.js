"use strict";(self["webpackChunkrtbooks"]=self["webpackChunkrtbooks"]||[]).push([[531],{3405:function(e,t,l){l.d(t,{Z:function(){return u}});var o=function(){var e=this,t=e._self._c;return t("div",[t("el-menu",{staticClass:"el-menu",attrs:{mode:"horizontal"}},[t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[e._v("切换语言")]),t("el-menu-item",{attrs:{index:"2-1"}},[e._v("英语")]),t("el-menu-item",{attrs:{index:"2-2"}},[e._v("法语")]),t("el-menu-item",{attrs:{index:"2-3"}},[e._v("德语")]),t("el-menu-item",{attrs:{index:"2-3"}},[e._v("日语")])],2),t("el-menu-item",{attrs:{index:"0"},on:{click:e.re}},[e._v("rt-books")]),t("el-menu-item",{attrs:{index:"2"}},[e._v("玄幻")]),t("el-menu-item",{attrs:{index:"3"}},[e._v("都市")]),t("el-menu-item",{attrs:{index:"4"}},[e._v("仙侠")]),t("el-menu-item",{attrs:{index:"5"}},[e._v("历史")]),t("el-menu-item",{attrs:{index:"6"}},[e._v("悬疑")]),t("el-menu-item",{attrs:{index:"7"}},[e._v("推理")]),t("el-menu-item",{attrs:{index:"8"}},[e._v("言情")]),t("el-menu-item",{attrs:{index:"9"}},[e._v("更多")]),t("el-menu-item",{attrs:{index:"10"},on:{click:e.back}},[e._v("退出登录")])],1)],1)},n=[],c=l(8291),s={name:"top",data(){return{input:""}},methods:{back(){const e="/api/user/logout";c.Z["delete"](e).then((e=>{alert(e.data.msg),200==e.data.code&&this.$router.push("/")}))},re(){this.$router.push("/reader")}}},i=s,a=l(1001),r=(0,a.Z)(i,o,n,!1,null,null,null),u=r.exports},7235:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});var o=function(){var e=this,t=e._self._c;return t("div",[t("top"),t("collect"),t("foot")],1)},n=[],c=l(7378),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"all"},[t("div",{staticClass:"list"},[t("ul",{staticClass:"title"},[e._v(" 我的收藏夹 ")]),e._l(e.collectname,(function(l,o){return t("ul",{key:o,on:{click:function(t){return e.collectbook(l)}}},[t("li",[e._v(" "+e._s(l)+" "),t("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.delecollectname(l)}}})])])})),t("ul",[t("el-button",{attrs:{type:"text"},on:{click:e.buider}},[e._v("创建收藏夹")])],1)],2),t("div",{staticClass:"content"},[t("ul",{staticClass:"title"},[e._v(" 我收藏的图书 ")]),e._l(this.collectbooks,(function(l,o){return t("ul",{key:o,on:{click:function(t){return e.collectbook(l.book_id)}}},[t("li",[e._v(" "+e._s(l.book_name)+"___"+e._s(l.desc)+" "),t("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.delecollectbook(l.book_id)}}})])])}))],2)])},i=[],a=l(8291),r=l(5410),u=l.n(r),d={data(){return{books:"",collectname:[],collectbooks:[]}},methods:{buider(){this.$prompt("请输入要创建的收藏夹名字","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:e})=>{var t={libname:e};a.Z.post("/api/user/create_collection",u().stringify(t)).then((e=>{200==e.data.code&&(this.$message({type:"success",message:"收藏夹创建成功"}),this.getnewcollect())}))})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))},collectbook(e){a.Z.get("/api/user/get_collection/"+e).then((t=>{200==t.data.code&&(sessionStorage.setItem("collectname",e),this.collectbooks=t.data.collection_book_list,console.log(this.collectbooks))}))},delecollectname(e){a.Z["delete"]("/api/user/dele_collection/"+e).then((e=>{console.log(e.data),200==e.data.code&&(alert("删除收藏夹成功"),this.getnewcollect())}))},getnewcollect(){a.Z.get("/api/user/get_collection_lib").then((e=>{console.log(e.data),this.collectname=e.data.collections}))},delecollectbook(e){var t=sessionStorage.getItem("collectname");a.Z["delete"]("/api/user/del_collect/"+e+"/"+t).then((e=>{console.log(e.data),200==e.data.code&&(alert("删除收藏图书成功"),this.collectbook(t))}))}},mounted(){a.Z.get("/api/user/get_collection_lib").then((e=>{this.collectname=e.data.collections,a.Z.get("/api/user/get_collection/"+e.data.collections[0]).then((e=>{this.collectbooks=e.data.collection_book_list}))})),console.log(this.collectname)}},m=d,_=l(1001),h=(0,_.Z)(m,s,i,!1,null,"7a5e30ac",null),k=h.exports,v=l(3405),b={components:{top:v.Z,collect:k,foot:c.Z}},p=b,g=(0,_.Z)(p,o,n,!1,null,null,null),f=g.exports}}]);
//# sourceMappingURL=531.e868d076.js.map