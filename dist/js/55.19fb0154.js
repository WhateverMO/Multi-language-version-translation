"use strict";(self["webpackChunkrtbooks"]=self["webpackChunkrtbooks"]||[]).push([[55],{2389:function(t,e,n){n.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",[e("el-menu",{staticClass:"el-menu",attrs:{mode:"horizontal"}},[e("el-submenu",{attrs:{index:"1"}},[e("template",{slot:"title"},[t._v("切换语言")]),e("el-menu-item",{attrs:{index:"2-1"}},[t._v("英语")]),e("el-menu-item",{attrs:{index:"2-2"}},[t._v("法语")]),e("el-menu-item",{attrs:{index:"2-3"}},[t._v("德语")]),e("el-menu-item",{attrs:{index:"2-3"}},[t._v("日语")])],2),e("el-menu-item",{attrs:{index:"0"},on:{click:t.re}},[t._v("rt-books")]),e("el-menu-item",{attrs:{index:"2"}},[t._v("玄幻")]),e("el-menu-item",{attrs:{index:"3"}},[t._v("都市")]),e("el-menu-item",{attrs:{index:"4"}},[t._v("仙侠")]),e("el-menu-item",{attrs:{index:"5"}},[t._v("历史")]),e("el-menu-item",{attrs:{index:"6"}},[t._v("悬疑")]),e("el-menu-item",{attrs:{index:"7"}},[t._v("推理")]),e("el-menu-item",{attrs:{index:"8"}},[t._v("言情")]),e("el-menu-item",{attrs:{index:"9"}},[t._v("更多")]),e("el-menu-item",{attrs:{index:"10"},on:{click:t.back}},[t._v("退出登录")])],1)],1)},a=[],o=(n(6265),n(8291)),i={name:"top",data(){return{input:""}},methods:{back(){const t="/api/author/logout";o.Z["delete"](t).then((t=>{alert(t.data.msg),200==t.data.code&&this.$router.push("/")}))},re(){this.$router.push("/author")}}},l=i,r=n(1001),c=(0,r.Z)(l,s,a,!1,null,null,null),u=c.exports},8656:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var s=function(){var t=this,e=t._self._c;return e("div",[e("top"),e("translatecenter"),e("foot")],1)},a=[],o=n(7378),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"all"},[e("ul",{staticClass:"first"},[e("li",{attrs:{id:"name"}},[t._v(t._s(t.title))]),e("li",{attrs:{id:"content"}},[e("textarea",{attrs:{rows:"30",cols:"70"},on:{mouseup:t.getSelectedText}},[t._v(t._s(t.content))]),e("el-button",{attrs:{type:"primary"},on:{click:t.pre}},[t._v("上一章")]),e("el-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v("下一章")]),e("el-button",{attrs:{type:"primary"},on:{click:t.robot}},[t._v("机器翻译")])],1)]),e("ul",{staticClass:"translate"},[e("li",[t._v(" 章节名字："),e("el-input",{attrs:{placeholder:"请输入翻译后的章节名字"},model:{value:t.translatetitle,callback:function(e){t.translatetitle=e},expression:"translatetitle"}})],1),e("li",{attrs:{id:"content"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.translatecontent,expression:"translatecontent"}],attrs:{rows:"30",cols:"70"},domProps:{value:t.translatecontent},on:{input:function(e){e.target.composing||(t.translatecontent=e.target.value)}}})]),e("li",{attrs:{id:"button"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.hand}},[t._v("上传作品")]),e("el-button",{attrs:{type:"primary"}},[t._v("保存作品")])],1)])])},l=[],r=n(5410),c=n.n(r),u=n(8291),h={data(){return{content:"",title:"",contentno:"",translatetitle:"",translatecontent:"",selectedText:"",langid:""}},mounted(){this.transbook=sessionStorage.getItem("transbook"),this.newstanslate=sessionStorage.getItem("newstanslate"),this.contentno=sessionStorage.getItem("contentno"),this.langid=sessionStorage.getItem("langid"),u.Z.get("/api/author/translate/"+this.transbook+"/"+this.newstanslate+"/"+this.contentno).then((t=>{this.content=t.data.content,this.title=t.data.title})),console.log(sessionStorage.getItem("checkstransno")),sessionStorage.getItem("checkstransno")&&u.Z.get("/api/author/get_my_books/"+this.newstanslate+"/"+this.contentno).then((t=>{console.log(t.data),this.translatecontent=t.data.content_text,this.translatetitle=t.data.title}))},methods:{hand(){var t={text:this.translatecontent,title:this.translatetitle,contentnum:this.contentno};const e="/api/author/translate/"+this.transbook+"/"+this.newstanslate+"/"+this.contentno;u.Z.post(e,c().stringify(t)).then((t=>{alert(t.data.msg),this.translatetitle="",this.translatecontent="",this.next()}))},getSelectedText(){var t=window.getSelection(),e=t.toString();this.selectedText=e},robot(){this.getSelectedText();var t={text:this.selectedText};console.log(this.selectedText),u.Z.post("/api/author/ai_translate/"+this.langid,c().stringify(t)).then((t=>{console.log(t.data),200==t.data.code&&(alert(t.data.msg),this.translatecontent+=t.data.trans_text)}))},pre(){this.contentno=parseInt(this.contentno)-1;const t="/api/author/translate/"+this.transbook+"/"+this.newstanslate+"/"+this.contentno;u.Z.get(t).then((t=>{this.content=t.data.content,this.title=t.data.title,sessionStorage.setItem("contentno",this.contentno)}))},next(){this.contentno=parseInt(this.contentno)+1;const t="/api/author/translate/"+this.transbook+"/"+this.newstanslate+"/"+this.contentno;u.Z.get(t).then((t=>{this.content=t.data.content,this.title=t.data.title,sessionStorage.setItem("contentno",this.contentno)}))}}},d=h,m=n(1001),p=(0,m.Z)(d,i,l,!1,null,"4c96e7c3",null),g=p.exports,v=n(2389),x={components:{top:v.Z,translatecenter:g,foot:o.Z}},_=x,k=(0,m.Z)(_,s,a,!1,null,null,null),b=k.exports}}]);
//# sourceMappingURL=55.19fb0154.js.map