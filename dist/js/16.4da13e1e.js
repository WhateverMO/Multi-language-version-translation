"use strict";(self["webpackChunkrtbooks"]=self["webpackChunkrtbooks"]||[]).push([[16],{3405:function(e,a,l){l.d(a,{Z:function(){return c}});var t=function(){var e=this,a=e._self._c;return a("div",[a("el-menu",{staticClass:"el-menu",attrs:{mode:"horizontal"}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[e._v("切换语言")]),a("el-menu-item",{attrs:{index:"2-1"}},[e._v("英语")]),a("el-menu-item",{attrs:{index:"2-2"}},[e._v("法语")]),a("el-menu-item",{attrs:{index:"2-3"}},[e._v("德语")]),a("el-menu-item",{attrs:{index:"2-3"}},[e._v("日语")])],2),a("el-menu-item",{attrs:{index:"0"},on:{click:e.re}},[e._v("rt-books")]),a("el-menu-item",{attrs:{index:"2"}},[e._v("玄幻")]),a("el-menu-item",{attrs:{index:"3"}},[e._v("都市")]),a("el-menu-item",{attrs:{index:"4"}},[e._v("仙侠")]),a("el-menu-item",{attrs:{index:"5"}},[e._v("历史")]),a("el-menu-item",{attrs:{index:"6"}},[e._v("悬疑")]),a("el-menu-item",{attrs:{index:"7"}},[e._v("推理")]),a("el-menu-item",{attrs:{index:"8"}},[e._v("言情")]),a("el-menu-item",{attrs:{index:"9"}},[e._v("更多")]),a("el-menu-item",{attrs:{index:"10"},on:{click:e.back}},[e._v("退出登录")])],1)],1)},o=[],n=l(8291),s={name:"top",data(){return{input:""}},methods:{back(){const e="/api/user/logout";n.Z["delete"](e).then((e=>{alert(e.data.msg),200==e.data.code&&this.$router.push("/")}))},re(){this.$router.push("/reader")}}},r=s,i=l(1001),u=(0,i.Z)(r,t,o,!1,null,null,null),c=u.exports},4184:function(e,a,l){l.r(a),l.d(a,{default:function(){return x}});var t=function(){var e=this,a=e._self._c;return a("div",[a("top"),a("kindcenter"),a("foot")],1)},o=[],n=l(7378),s=function(){var e=this,a=e._self._c;return a("div",{staticClass:"box"},[a("ul",[a("li",[e._v(" 图书名字："),a("el-input",{attrs:{placeholder:"请输入图书名字"},model:{value:e.bookname,callback:function(a){e.bookname=a},expression:"bookname"}})],1),a("li",[e._v(" 作品类型："),a("el-select",{ref:"bookclass",attrs:{placeholder:"请选择"},model:{value:e.bookclass,callback:function(a){e.bookclass=a},expression:"bookclass"}},e._l(e.kind,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("li",[e._v(" 语言种类："),a("el-select",{ref:"booklang",attrs:{placeholder:"请选择"},model:{value:e.booklang,callback:function(a){e.booklang=a},expression:"booklang"}},e._l(e.lang,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("li",[e._v(" 作品简介: "),a("el-input",{attrs:{type:"textarea",rows:4,maxlength:40,placeholder:"请输入内容"},model:{value:e.bookintro,callback:function(a){e.bookintro=a},expression:"bookintro"}})],1),a("li",[a("el-button",{attrs:{type:"primary"},on:{click:e.write}},[e._v("上传图书信息")])],1)]),a("ul",[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://43.138.162.174/api/author/add_books_index","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("li",{staticClass:"cover"},[a("el-button",{attrs:{type:"primary"}},[e._v("上传图书封面")])],1)],1)])},r=[],i=l(5410),u=l.n(i),c=l(8291),b={data(){return{kind:[{value:"1",label:"小说"},{value:"2",label:"传记"},{value:"3",label:"历史"},{value:"4",label:"科幻"},{value:"5",label:"奇幻"},{value:"6",label:"悬疑"},{value:"7",label:"推理"},{value:"8",label:"恐怖"},{value:"9",label:"浪漫"},{value:"10",label:"青春"},{value:"11",label:"散文"},{value:"12",label:"哲学"}],lang:[{value:"1",label:"中文"},{value:"2",label:"英语"},{value:"3",label:"西班牙语"},{value:"4",label:"法语"},{value:"5",label:"德语"},{value:"6",label:"意大利语"},{value:"7",label:"俄语"},{value:"8",label:"阿拉伯语"},{value:"9",label:"日语"},{value:"10",label:"韩语"},{value:"11",label:"葡萄牙语"}],bookname:"",bookintro:"",bookclass:"",booklang:"",picture:new FormData,imageUrl:"",newbookid:0}},methods:{write(){var e={name:this.bookname,lang_id:this.$refs.booklang.selected.value,book_desc:this.bookintro,bc_id:this.$refs.bookclass.selected.value};console.log(e);const a="/api/author/add_books_index";c.Z.post(a,u().stringify(e)).then((e=>{200==e.data.code&&(alert("你的图书编号是"+e.data.book_id),this.newbookid=e.data.book_id,sessionStorage.setItem("newbookid",e.data.book_id))}))},handleAvatarSuccess(e,a){this.imageUrl=URL.createObjectURL(a.raw),this.picture.append("file",a.raw,a.name),c.Z.post("/api/author/add_books_cover/"+this.newbookid,this.picture).then((e=>{alert(e.data.msg),this.$router.push("/write")}))},beforeAvatarUpload(e){const a="image/jpeg"===e.type,l=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),l||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&l}}},d=b,v=l(1001),m=(0,v.Z)(d,s,r,!1,null,"59b59939",null),k=m.exports,p=l(3405),h={components:{top:p.Z,kindcenter:k,foot:n.Z}},_=h,f=(0,v.Z)(_,t,o,!1,null,null,null),x=f.exports}}]);
//# sourceMappingURL=16.4da13e1e.js.map